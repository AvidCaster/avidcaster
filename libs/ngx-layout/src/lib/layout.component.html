<div
  [dir]="i18n.direction"
  class="app-wrapper"
  [class.hidden-navbar]="hideNavbar"
  [ngClass]="layout.navbarModeClass"
  [class.is-handset]="layout.state.isHandset"
  [class.is-portrait]="layout.state.isPortrait"
  [class.app-theme-light]="!layout.state.isDarkTheme"
  [class.app-theme-dark]="layout.state.isDarkTheme"
  [@fadeOutInSlow]="layout.state.isDarkTheme ? 'out' : 'in'"
>
  <fullerstack-navbar></fullerstack-navbar>

  <mat-sidenav-container [class.noscroll]="!allowScroll">
    <mat-sidenav
      #sideMenu
      position="start"
      [fixedTopGap]="layout.state.isHandset ? 56 : 64"
      [fixedInViewport]="layout.state.isHandset"
      [mode]="layout.state.menuMode"
      [opened]="layout.state.menuOpen"
      [attr.role]="layout.state.menuRole"
      class="menu-panel"
    >
      <fullerstack-menu></fullerstack-menu>
    </mat-sidenav>

    <mat-sidenav
      #notifyMenu
      position="end"
      [fixedTopGap]="layout.state.isHandset ? 56 : 64"
      [fixedInViewport]="layout.state.isHandset"
      [mode]="layout.state.notifyMode"
      [opened]="layout.state.notifyOpen"
      [attr.role]="layout.state.notifyRole"
      class="notification-panel"
    >
      <fullerstack-notification></fullerstack-notification>
    </mat-sidenav>

    <mat-sidenav-content [@slideIn]="routeState(outlet)">
      <div>
        <router-outlet #outlet="outlet"></router-outlet>
        <fullerstack-footer></fullerstack-footer>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
