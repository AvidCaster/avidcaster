<mat-card class="flex-col p-0 pb-0">
  <mat-card-header class="flex-row justify-between">
    <div class="flex-col">
      <mat-card-title class="text-lg mb-0">{{ title | translate }}</mat-card-title>
      <mat-card-subtitle *ngIf="subtitle" class="m-0 mt-1">{{ subtitle | translate }}</mat-card-subtitle>
    </div>

    <div *ngIf="icon && !hasMenu">
      <mat-icon *ngIf="!isMainColor" [style.color]="iconColor" svgIcon="{{ icon }}" class="card-header-icon mt-3"></mat-icon>
      <mat-icon *ngIf="isMainColor" color="iconColor" svgIcon="{{ icon }}" class="card-header-icon mt-3"></mat-icon>
    </div>

    <div *ngIf="hasMenu">
      <button
        [matMenuTriggerFor]="optionMenu"
        mat-icon-button
        class="menu-button"
        matTooltip="{{ 'COMMON.ACTIONS' | translate }}"
        [matTooltipPosition]="optionMenuTooltipPosition"
      >
        <mat-icon [@wiggleIt]="wiggleState" svgIcon="dots-vertical" class="option-icon"></mat-icon>
      </button>

      <mat-menu #optionMenu="matMenu" x-position="before">
        <a *ngFor="let item of menu" [routerLink]="item.path" mat-menu-item>
          <mat-icon *ngIf="item.icon" color="{{ item.iconColor }}" svgIcon="{{ item.icon }}"></mat-icon>
          <mat-icon *ngIf="!item.icon"></mat-icon>
          {{ item.name | translate }}
        </a>
      </mat-menu>
    </div>
  </mat-card-header>

  <mat-divider *ngIf="!progress" class="border-t-2"></mat-divider>
  <mat-progress-bar *ngIf="progress" color="warn" mode="indeterminate"></mat-progress-bar>

  <mat-card-content class="pt-3">
    <ng-content></ng-content>
  </mat-card-content>
</mat-card>
