<div
  (click)="$event.stopPropagation()"
  [fxLayout]="flexLayout"
  [ngStyle]="{
    'z-index': 2,
    position: 'absolute',
    top: topPosition,
    bottom: bottomPosition,
    left: leftPosition,
    right: rightPosition,
    background: annotation.state.backgroundColor,
    color: annotation.state.strokeStyle
  }"
>
  <button mat-icon-button class="quick-menu-button material-icons color-black" [matMenuTriggerFor]="buttonVisibility">
    <mat-icon class="clickable-menu-icon" [svgIcon]="annotation.state.vertical ? 'dots-horizontal' : 'dots-vertical'"></mat-icon>
  </button>

  <mat-menu #buttonVisibility="matMenu" [ngStyle]="{ 'background-color': annotation.state.backgroundColor }">
    <div fxLayout="row" fxLayoutGap="18px">
      <fullerstack-menu-position></fullerstack-menu-position>
      <fullerstack-show-menu></fullerstack-show-menu>
    </div>
    <mat-divider class="mb0_5"></mat-divider>
  </mat-menu>

  <button
    *ngIf="annotation.state.showTrash"
    mat-icon-button
    class="quick-menu-button material-icons color-black"
    [@wiggleIt]="trashIconState"
    (click)="trash()"
  >
    <mat-icon class="clickable-menu-icon" svgIcon="trash-can-outline"></mat-icon>
  </button>

  <button
    *ngIf="annotation.state.showUndo"
    mat-icon-button
    class="quick-menu-button material-icons color-black"
    [@wiggleIt]="undoIconState"
    (click)="undo()"
  >
    <mat-icon class="clickable-menu-icon" svgIcon="undo"></mat-icon>
  </button>

  <button
    *ngIf="annotation.state.showRedo"
    mat-icon-button
    class="quick-menu-button material-icons color-black"
    [@wiggleIt]="redoIconState"
    (click)="redo()"
  >
    <mat-icon class="clickable-menu-icon" svgIcon="redo"></mat-icon>
  </button>

  <button
    *ngIf="annotation.state.showLineWidth"
    mat-icon-button
    class="quick-menu-button material-icons color-black"
    [matMenuTriggerFor]="lineWidthPicker"
  >
    <mat-icon class="clickable-menu-icon" svgIcon="format-line-weight"></mat-icon>
  </button>
  <mat-menu #lineWidthPicker="matMenu">
    <div fxLayout="column" fxLayoutGap="18px">
      <div fxLayout="row" fxLayoutGap="18px" (click)="$event.stopPropagation()">
        <div *ngFor="let lineWidth of lineWithValues" (click)="setLineWidth(lineWidth)">
          <mat-icon
            [ngStyle]="{ color: annotation.state.strokeStyle, width: lineWidth * 2 + 'px' }"
            [svgIcon]="annotation.state.lineWidth === lineWidth ? 'checkbox-blank-circle' : 'checkbox-blank-circle-outline'"
          ></mat-icon>
        </div>
      </div>
      <div
        [ngStyle]="{
          borderRadius: '5px',
          width: '100%',
          'border-top': annotation.state.lineWidth * 1.4 + 'px solid',
          color: annotation.state.strokeStyle
        }"
      ></div>
    </div>
  </mat-menu>

  <button
    *ngIf="annotation.state.showColorPicker"
    mat-icon-button
    type="color"
    class="quick-menu-button material-icons color-black"
    (click)="colorInput.click()"
  >
    <input #colorInput class="color-input" type="color" [value]="annotation.state.strokeStyle" (change)="colorPicker($event)" />
    <mat-icon class="clickable-menu-icon" svgIcon="palette"></mat-icon>
  </button>

  <button
    *ngIf="annotation.state.showCursor"
    mat-icon-button
    class="quick-menu-button material-icons color-black"
    [@wiggleIt]="cursorIconState"
    (click)="toggleCursor()"
  >
    <mat-icon
      class="clickable-menu-icon"
      [svgIcon]="annotation.state.cursor ? 'cursor-default-click' : 'cursor-default-click-outline'"
    ></mat-icon>
  </button>

  <button
    *ngIf="annotation.state.showFullscreen"
    mat-icon-button
    class="quick-menu-button material-icons color-black"
    (click)="toggleFullscreen()"
  >
    <mat-icon class="clickable-menu-icon" [svgIcon]="isFullscreen ? 'arrow-collapse-all' : 'arrow-expand-all'"></mat-icon>
  </button>

  <button
    *ngIf="annotation.state.showRefresh"
    mat-icon-button
    class="quick-menu-button material-icons color-black"
    (click)="uix.refreshPage()"
  >
    <mat-icon class="clickable-menu-icon" svgIcon="web-refresh"></mat-icon>
  </button>
</div>
