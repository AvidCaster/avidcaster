<div fxLayout="row" fxLayoutAlign="space-around center" [dir]="chatService.state.isLtR ? 'ltr' : 'rtl'">
  <div fxLayout="row" fxLayoutGap="5px">
    <button
      mat-mini-fab
      [class.yt-cursor-default]="!chat?.author"
      matTooltipPosition="before"
      matTooltip="{{ 'CHAT.CLEAR' | translate }}"
      color="accent"
      (click)="clearMessage()"
    >
      <mat-icon [class.chat-icon-dim]="!chat?.author" [svgIcon]="!chat?.author ? 'delete-off' : 'delete-outline'"></mat-icon>
    </button>

    <button mat-mini-fab [color]="chatService?.state?.fireworksEnabled ? 'accent' : 'warn'" (click)="toggleFireworksPlay()">
      <mat-icon
        [class.chat-icon-dim]="!chatService?.state?.fireworksEnabled"
        matTooltipPosition="before"
        matTooltip="{{ (chatService?.state?.fireworksEnabled ? (fireworksPlay ? 'FIREWORKS.START' : 'FIREWORKS.STOP') : '') | translate }}"
        [svgIcon]="!chatService?.state?.fireworksEnabled || fireworksPlay ? 'firework-off' : 'firework'"
      ></mat-icon>
    </button>

    <button mat-mini-fab [color]="chatService?.state?.audioEnabled ? 'accent' : 'warn'" (click)="toggleAudioPlay()">
      <mat-icon
        [class.chat-icon-dim]="!chatService?.state?.audioEnabled"
        matTooltipPosition="before"
        matTooltip="{{ (chatService?.state?.audioEnabled ? (audioPlay ? 'CHEERS.STOP' : 'CHEERS.START') : '') | translate }}"
        [svgIcon]="!chatService?.state?.audioEnabled || audioPlay ? 'volume-off' : 'volume-high'"
      ></mat-icon>
    </button>

    <button mat-mini-fab color="accent" [disabled]="!chatService?.state?.ffEnabled" (click)="toggleFastForward()">
      <mat-icon matTooltipPosition="before" matTooltip="{{ 'CHAT.FF_ENABLE' | translate }}" svgIcon="snail"></mat-icon>
    </button>

    <button mat-mini-fab color="accent" [disabled]="chatService?.state?.ffEnabled" (click)="toggleFastForward()">
      <mat-icon matTooltipPosition="before" matTooltip="{{ 'CHAT.FF_DISABLE' | translate }}" svgIcon="rabbit"></mat-icon>
    </button>
  </div>
  <div fxFlex></div>
  <div fxLayout="row" fxLayoutGap="10px">
    <button
      color="accent"
      mat-mini-fab
      matTooltipPosition="before"
      matTooltip="{{ 'COMMON.TOGGLE_THEME' | translate }}"
      [matMenuTriggerFor]="chatOptions"
    >
      <mat-icon svgIcon="cog"></mat-icon>
    </button>

    <mat-menu #chatOptions="matMenu">
      <div fxLayout="column" fxLayoutGap="10px" (click)="$event.stopPropagation()" [class.chat-light-theme]="isDarkTheme">
        <div fxLayout="row" fxLayoutAlign="start center" class="option-item">
          <span fxFlex>{{ 'COMMON.DARK' | translate }}</span>
          <mat-slide-toggle color="primary" [(ngModel)]="isDarkTheme" (change)="toggleTheme($event.checked)"></mat-slide-toggle>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" class="option-item">
          <span fxFlex>{{ (chatService?.state?.audioEnabled ? 'CHEERS.DISABLE' : 'CHEERS.ENABLE') | translate }}</span>
          <mat-slide-toggle color="primary" [(ngModel)]="isAudioEnabled" (change)="toggleAudio($event.checked)"></mat-slide-toggle>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" class="option-item">
          <span fxFlex>{{ (chatService?.state?.fireworksEnabled ? 'FIREWORKS.DISABLE' : 'FIREWORKS.ENABLE') | translate }}</span>
          <mat-slide-toggle color="primary" [(ngModel)]="isFireworksEnabled" (change)="toggleFireworks($event.checked)"></mat-slide-toggle>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" class="option-item" (click)="toggleDirection()">
          <span fxFlex>{{ (chatService.state.isLtR ? 'COMMON.DIR_LTR' : 'COMMON.DIR_RTL') | translate }}</span>
          <mat-icon [class.flip-horizontal]="chatService.state.isLtR" svgIcon="directions"></mat-icon>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" class="option-item">
          <span fxFlex>{{ 'CHAT.ADJUST_VERTICAL' | translate }}</span>
          <mat-slider min="-5" max="5" step="0.5" value="1.5" thumbLabel [displayWith]="formatChatVerticalLabel"></mat-slider>
        </div>
      </div>
    </mat-menu>

    <button
      matTooltipPosition="after"
      matTooltip="{{ (chatService?.layout?.state?.isFullScreen ? 'COMMON.WINDOW_SCREEN' : 'COMMON.FULLSCREEN') | translate }}"
      mat-mini-fab
      (click)="toggleFullscreen()"
    >
      <mat-icon [svgIcon]="chatService.layout.state.isFullScreen ? 'arrow-collapse' : 'arrow-expand'"></mat-icon>
    </button>
    <button
      matTooltipPosition="after"
      matTooltip="{{ 'COMMON.HOME' | translate }}"
      mat-mini-fab
      (click)="chatService.layout.auth.goTo('/')"
    >
      <mat-icon svgIcon="home"></mat-icon>
    </button>
  </div>
</div>
<audio #audioTag preload="auto" src="./assets/audio/yelling-yay.mp3" class="chat-audio"></audio>
