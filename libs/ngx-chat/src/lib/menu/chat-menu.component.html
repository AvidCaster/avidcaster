<section class="chat-menu">
  <div fxLayout="row" fxLayoutAlign="space-around center">
    <div fxLayout="row" fxLayoutGap="10px">
      <button
        [class.chat-icon-dim]="chat?.author"
        [class.chat-cursor-default]="chat?.author"
        mat-raised-button
        color="primary"
        (click)="chatService.loadTestChat()"
      >
        <mat-icon matTooltipPosition="before" matTooltip="{{ 'CHAT.TEST' | translate }}" svgIcon="chat-plus-outline"></mat-icon>
      </button>
      <form [formGroup]="form" fxLayout="column" autocomplete="off" class="chat-filter-input">
        <mat-form-field *tmpLet="isHighlight() as isHighlight">
          <mat-icon matSuffix [color]="isHighlight ? 'accent' : 'primary'" [svgIcon]="isHighlight ? 'flashlight' : 'filter'"></mat-icon>
          <input
            matInput
            type="text"
            formControlName="filterText"
            placeholder="{{ (isHighlight ? 'CHAT.HIGHLIGHT_WORDS' : 'CHAT.FILTER_WORDS') | translate }}"
          />
        </mat-form-field>
      </form>
      <div fxFlex fxLayout fxLayoutAlign="start center" class="filter-option-dropdown">
        <mat-form-field fxFlex="100">
          <mat-select
            placeholder="{{ 'FILTER.NONE' | translate }}"
            #ctrl="ngModel"
            [(ngModel)]="currentFilter"
            (ngModelChange)="setFilter(currentFilter)"
          >
            <mat-option *ngFor="let filter of getFilterOptions()" [value]="filter">
              {{ getFilterName(filter) | translate }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
    <div fxFlex></div>
    <div>
      <button
        matTooltipPosition="after"
        matTooltip="{{ (chatService.state.isLtR ? 'COMMON.DIR_LTR' : 'COMMON.DIR_RTL') | translate }}"
        mat-icon-button
        (click)="toggleDirection()"
      >
        <mat-icon [class.flip-horizontal]="chatService.state.isLtR" svgIcon="directions"></mat-icon>
      </button>
      <button
        matTooltipPosition="after"
        matTooltip="{{ (chatService.layout.state.isFullScreen ? 'COMMON.WINDOW_SCREEN' : 'COMMON.FULLSCREEN') | translate }}"
        mat-icon-button
        (click)="chatService.layout.toggleFullscreen()"
      >
        <mat-icon [svgIcon]="chatService.layout.state.isFullScreen ? 'arrow-collapse' : 'arrow-expand'"></mat-icon>
      </button>
      <button
        matTooltipPosition="after"
        matTooltip="{{ 'COMMON.HOME' | translate }}"
        mat-icon-button
        (click)="chatService.layout.auth.goTo('/')"
      >
        <mat-icon svgIcon="home"></mat-icon>
      </button>
    </div>
  </div>
</section>
