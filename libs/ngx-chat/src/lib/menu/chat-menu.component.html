<div fxLayout="row" fxLayoutAlign="space-around center" [dir]="chatService.state.isLtR ? 'ltr' : 'rtl'">
  <div fxLayout="row" fxLayoutGap="5px">
    <button
      mat-raised-button
      [class.yt-cursor-default]="!chat?.author"
      matTooltipPosition="before"
      matTooltip="{{ 'CHAT.CLEAR' | translate }}"
      color="warn"
      (click)="clearMessage()"
    >
      <mat-icon [class.chat-icon-dim]="!chat?.author" svgIcon="trash-can-outline"></mat-icon>
      <mat-icon [class.chat-icon-dim]="!chat?.author" svgIcon="arrow-down-thick"></mat-icon>
    </button>

    <button mat-raised-button [color]="chatService?.state?.fireworksEnabled ? 'accent' : 'warn'">
      <div fxLayout="row" fxLayoutGap="15px">
        <mat-icon
          [class.chat-icon-dim]="!chatService?.state?.fireworksEnabled"
          matTooltipPosition="before"
          matTooltip="{{
            (chatService?.state?.fireworksEnabled ? (chatService?.state?.fireworksPlay ? 'FIREWORKS.START' : 'FIREWORKS.STOP') : '')
              | translate
          }}"
          class="chat-icon-dim"
          [svgIcon]="!chatService?.state?.fireworksEnabled || chatService?.state?.fireworksPlay ? 'firework-off' : 'firework'"
          (click)="toggleFireworks()"
        ></mat-icon>
        <mat-icon
          [svgIcon]="chatService?.state?.fireworksEnabled ? 'checkbox-marked' : 'checkbox-blank-outline'"
          (click)="toggleFireworksFlag()"
        ></mat-icon>
      </div>
    </button>
    <button mat-raised-button [color]="chatService?.state?.audioEnabled ? 'accent' : 'warn'">
      <div fxLayout="row" fxLayoutGap="15px">
        <mat-icon
          [class.chat-icon-dim]="!chatService?.state?.audioEnabled"
          matTooltipPosition="before"
          matTooltip="{{ (chatService?.state?.audioEnabled ? (audioPlay ? 'CHEERS.STOP' : 'CHEERS.START') : '') | translate }}"
          [svgIcon]="!chatService?.state?.audioEnabled || audioPlay ? 'volume-off' : 'volume-high'"
          (click)="toggleAudioPlay()"
        ></mat-icon>
        <mat-icon
          matTooltipPosition="after"
          matTooltip="{{ (chatService?.state?.audioEnabled ? 'CHEERS.DISABLE' : 'CHEERS.ENABLE') | translate }}"
          [svgIcon]="chatService?.state?.audioEnabled ? 'checkbox-marked' : 'checkbox-blank-outline'"
          (click)="toggleAudioFlag()"
        ></mat-icon>
      </div>
    </button>
    <button mat-raised-button [color]="chatService?.state?.ffEnabled ? 'accent' : 'warn'">
      <div fxLayout="row" fxLayoutGap="15px">
        <mat-icon
          [class.chat-icon-dim]="!chatService?.state?.ffEnabled"
          matTooltipPosition="before"
          matTooltip="{{ 'CHAT.FAST_FORWARD' | translate }}"
          svgIcon="fast-forward"
        ></mat-icon>
        <mat-icon
          matTooltipPosition="after"
          matTooltip="{{ (chatService?.state?.ffEnabled ? 'CHAT.FF_DISABLED' : 'CHAT.FF_ENABLED') | translate }}"
          [svgIcon]="chatService?.state?.ffEnabled ? 'checkbox-marked' : 'checkbox-blank-outline'"
          (click)="toggleFastForward()"
        ></mat-icon>
      </div>
    </button>
  </div>
  <div fxFlex></div>
  <div fxLayout="row" fxLayoutGap="10px">
    <button
      color="accent"
      mat-mini-fab
      matTooltipPosition="before"
      matTooltip="{{ 'COMMON.TOGGLE_THEME' | translate }}"
      [matMenuTriggerFor]="chatOptions"
    >
      <mat-icon svgIcon="cog"></mat-icon>
    </button>

    <mat-menu #chatOptions="matMenu">
      <div fxLayout="column" fxLayoutGap="10px" (click)="$event.stopPropagation()" [class.chat-light-theme]="isDarkTheme">
        <div fxLayout="row" fxLayoutAlign="start center" class="option-item">
          <span fxFlex>{{ 'COMMON.DARK' | translate }}</span>
          <mat-slide-toggle color="primary" [(ngModel)]="isDarkTheme" (change)="toggleTheme($event.checked)"></mat-slide-toggle>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" class="option-item" (click)="toggleDirection()">
          <span fxFlex>{{ (chatService.state.isLtR ? 'COMMON.DIR_LTR' : 'COMMON.DIR_RTL') | translate }}</span>
          <mat-icon [class.flip-horizontal]="chatService.state.isLtR" svgIcon="directions"></mat-icon>
        </div>
      </div>
    </mat-menu>

    <button
      matTooltipPosition="after"
      matTooltip="{{ (chatService?.layout?.state?.isFullScreen ? 'COMMON.WINDOW_SCREEN' : 'COMMON.FULLSCREEN') | translate }}"
      mat-mini-fab
      (click)="toggleFullscreen()"
    >
      <mat-icon [svgIcon]="chatService.layout.state.isFullScreen ? 'arrow-collapse' : 'arrow-expand'"></mat-icon>
    </button>
    <button
      matTooltipPosition="after"
      matTooltip="{{ 'COMMON.HOME' | translate }}"
      mat-mini-fab
      (click)="chatService.layout.auth.goTo('/')"
    >
      <mat-icon svgIcon="home"></mat-icon>
    </button>
  </div>
</div>
<audio #audioTag preload="auto" src="./assets/audio/yelling-yay.mp3" class="chat-audio"></audio>
